<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SQL General recalls | Tech notes</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="description" content="Record what I have learnt so far ..">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/assets/css/0.styles.053e5b54.css" as="style"><link rel="preload" href="/assets/js/app.0251f370.js" as="script"><link rel="preload" href="/assets/js/2.a511a718.js" as="script"><link rel="preload" href="/assets/js/46.a793d66e.js" as="script"><link rel="prefetch" href="/assets/js/10.1756a30c.js"><link rel="prefetch" href="/assets/js/11.d10ed402.js"><link rel="prefetch" href="/assets/js/12.85879763.js"><link rel="prefetch" href="/assets/js/13.21fefb66.js"><link rel="prefetch" href="/assets/js/14.514f3ad4.js"><link rel="prefetch" href="/assets/js/15.421da259.js"><link rel="prefetch" href="/assets/js/16.a8cf901d.js"><link rel="prefetch" href="/assets/js/17.597a57c1.js"><link rel="prefetch" href="/assets/js/18.b7a16253.js"><link rel="prefetch" href="/assets/js/19.89640bbd.js"><link rel="prefetch" href="/assets/js/20.039560cd.js"><link rel="prefetch" href="/assets/js/21.933d8efb.js"><link rel="prefetch" href="/assets/js/22.fbd70c81.js"><link rel="prefetch" href="/assets/js/23.f7b59325.js"><link rel="prefetch" href="/assets/js/24.f0c57549.js"><link rel="prefetch" href="/assets/js/25.75fc0906.js"><link rel="prefetch" href="/assets/js/26.18c8fb75.js"><link rel="prefetch" href="/assets/js/27.c2531824.js"><link rel="prefetch" href="/assets/js/28.d8263721.js"><link rel="prefetch" href="/assets/js/29.e309bb92.js"><link rel="prefetch" href="/assets/js/3.de251300.js"><link rel="prefetch" href="/assets/js/30.60792b36.js"><link rel="prefetch" href="/assets/js/31.4556fab8.js"><link rel="prefetch" href="/assets/js/32.cad36057.js"><link rel="prefetch" href="/assets/js/33.96fa4cd9.js"><link rel="prefetch" href="/assets/js/34.331d3649.js"><link rel="prefetch" href="/assets/js/35.27b16a26.js"><link rel="prefetch" href="/assets/js/36.8c8a8f4a.js"><link rel="prefetch" href="/assets/js/37.55e9bcb3.js"><link rel="prefetch" href="/assets/js/38.11ba2adc.js"><link rel="prefetch" href="/assets/js/39.707a73c7.js"><link rel="prefetch" href="/assets/js/4.0c6e4781.js"><link rel="prefetch" href="/assets/js/40.25f09678.js"><link rel="prefetch" href="/assets/js/41.14422bdf.js"><link rel="prefetch" href="/assets/js/42.00dc6d05.js"><link rel="prefetch" href="/assets/js/43.2391762a.js"><link rel="prefetch" href="/assets/js/44.44ba0790.js"><link rel="prefetch" href="/assets/js/45.75f81840.js"><link rel="prefetch" href="/assets/js/47.c2afe10c.js"><link rel="prefetch" href="/assets/js/48.739f71e2.js"><link rel="prefetch" href="/assets/js/49.4e2942bf.js"><link rel="prefetch" href="/assets/js/5.04aeba18.js"><link rel="prefetch" href="/assets/js/50.d89d9ed1.js"><link rel="prefetch" href="/assets/js/51.c9014f65.js"><link rel="prefetch" href="/assets/js/52.e8094643.js"><link rel="prefetch" href="/assets/js/53.ce9812cb.js"><link rel="prefetch" href="/assets/js/54.a4d188e7.js"><link rel="prefetch" href="/assets/js/55.d84d1be7.js"><link rel="prefetch" href="/assets/js/56.77b1acdf.js"><link rel="prefetch" href="/assets/js/57.a394bc76.js"><link rel="prefetch" href="/assets/js/58.b0152742.js"><link rel="prefetch" href="/assets/js/59.8060a1e6.js"><link rel="prefetch" href="/assets/js/6.621a2e88.js"><link rel="prefetch" href="/assets/js/60.d2985ae7.js"><link rel="prefetch" href="/assets/js/61.5875e9b2.js"><link rel="prefetch" href="/assets/js/7.e1084d66.js"><link rel="prefetch" href="/assets/js/8.7f39aeb7.js"><link rel="prefetch" href="/assets/js/9.7334cb24.js">
    <link rel="stylesheet" href="/assets/css/0.styles.053e5b54.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Tech notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Dashboard
</a></div><div class="nav-item"><a href="/about.html" class="nav-link">
  About
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Dashboard
</a></div><div class="nav-item"><a href="/about.html" class="nav-link">
  About
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/_posts/avoid-use-else.html" class="sidebar-link">Avoid Using 'else'</a></li><li><a href="/_posts/learnt-concepts.html" class="sidebar-link">Learnt Concepts</a></li><li><a href="/_posts/css-bem.html" class="sidebar-link">BEM (CSS)</a></li><li><a href="/_posts/bff.html" class="sidebar-link">BFF (Backend For Frontend)</a></li><li><a href="/_posts/css-tips.html" class="sidebar-link">CSS Tips (General)</a></li><li><a href="/_posts/debug-101.html" class="sidebar-link">Debug Tips (General)</a></li><li><a href="/_posts/docker-damon.html" class="sidebar-link">Docker (Damon)</a></li><li><a href="/_posts/git-tips.html" class="sidebar-link">Git Tips</a></li><li><a href="/_posts/js-arrow-function.html" class="sidebar-link">JavaScript: Arrow Function</a></li><li><a href="/_posts/js-callback-promise-async-await.html" class="sidebar-link">JavaScript: Callback - Promise - Async Await</a></li><li><a href="/_posts/js-class-prototype.html" class="sidebar-link">JavaScript: Class - Prototype</a></li><li><a href="/_posts/js-closure.html" class="sidebar-link">JavaScript: Closure</a></li><li><a href="/_posts/js-pieces.html" class="sidebar-link">JavaScript: Code Pieces</a></li><li><a href="/_posts/js-event-loop.html" class="sidebar-link">JavaScript: Event Loop</a></li><li><a href="/_posts/js-common-note.html" class="sidebar-link">JavaScript: Common note</a></li><li><a href="/_posts/js-patterns.html" class="sidebar-link">JavaScript: Common Patterns</a></li><li><a href="/_posts/js-fp.html" class="sidebar-link">JavaScript: Functional Programming</a></li><li><a href="/_posts/js-high-order-functions.html" class="sidebar-link">JavaScript: High Order Functions</a></li><li><a href="/_posts/js-hoisting.html" class="sidebar-link">JavaScript: Hoisting</a></li><li><a href="/_posts/js-immutability.html" class="sidebar-link">JavaScript: Immutability</a></li><li><a href="/_posts/ts-basics.html" class="sidebar-link">TypeScript: Basics (101)</a></li><li><a href="/_posts/sql-tips.html" aria-current="page" class="active sidebar-link">SQL (101)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/_posts/node-tips.html" class="sidebar-link">NodeJS (101)</a></li><li><a href="/_posts/js-module-systems.html" class="sidebar-link">JavaScript Module Systems</a></li><li><a href="/_posts/js-reduce-method.html" class="sidebar-link">JavaScript Reduce Method (Use cases)</a></li><li><a href="/_posts/just-code.html" class="sidebar-link">Code Practices (Mostly JavaScript)</a></li><li><a href="/_posts/npms.html" class="sidebar-link">Npm packages (Common)</a></li><li><a href="/_posts/one-word-tips.html" class="sidebar-link">One word (Quick memo)</a></li><li><a href="/_posts/postgres-tips.html" class="sidebar-link">PostgreSQL Note</a></li><li><a href="/_posts/problems-resolved.html" class="sidebar-link">Problems Resolved (Records)</a></li><li><a href="/_posts/react-hoc.html" class="sidebar-link">React: High Order Component</a></li><li><a href="/_posts/react-hooks.html" class="sidebar-link">React: Hooks</a></li><li><a href="/_posts/react-lifecycles.html" class="sidebar-link">React: Lifecycle Methods</a></li><li><a href="/_posts/redux-tips.html" class="sidebar-link">React: Redux 101</a></li><li><a href="/_posts/restful-api.html" class="sidebar-link">Restful API</a></li><li><a href="/_posts/rxjs-trials.html" class="sidebar-link">RXJS Trials</a></li><li><a href="/_posts/react-ssr.html" class="sidebar-link">React: Server Side Rendering</a></li><li><a href="/_posts/solid-principles.html" class="sidebar-link">Software Development: Solid Principles</a></li><li><a href="/_posts/tips-to-read.html" class="sidebar-link">Tips to read before too late</a></li><li><a href="/_posts/tricky-codes.html" class="sidebar-link">Tricky code</a></li><li><a href="/_posts/ts-101.html" class="sidebar-link">TypeScript 101</a></li><li><a href="/_posts/underscore-js.html" class="sidebar-link">UnderscoreJS 101</a></li><li><a href="/_posts/unit-tests-tips.html" class="sidebar-link">Unit Tests 101</a></li><li><a href="/_posts/vue-tips.html" class="sidebar-link">VueJS 101</a></li><li><a href="/_posts/vuex-101.html" class="sidebar-link">VueX 101</a></li><li><a href="/_posts/web-accessibility.html" class="sidebar-link">Web Accessibility 101</a></li><li><a href="/_posts/webpack-101.html" class="sidebar-link">Webpack 101</a></li><li><a href="/_posts/weekly-tips.html" class="sidebar-link">Weekly tips</a></li><li><a href="/_posts/whats-the-output.html" class="sidebar-link">What is the output</a></li><li><a href="/_posts/web3.html" class="sidebar-link">Web3</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="sql-general-recalls"><a href="#sql-general-recalls" class="header-anchor">#</a> SQL General recalls</h3> <p><b>1.</b> Common tips:</p> <ul><li>double hash <code>(--)</code> means not run the code</li> <li>Usually in SQL, we use <code>single quote</code></li> <li><code>&lt;&gt;</code> is same as <code>!=</code>, which means not equal to</li></ul> <p><b>2.</b> <code>SQL</code>: Structured Query Language</p> <p><b>3.</b> Important Query Commands:</p> <ul><li><code>USE</code>: use database TEST</li> <li><code>SELECT</code>: select database columns (eg: select *)</li> <li><code>FROM</code>: from which database table</li> <li><code>WHERE</code>: condition</li> <li><code>ORDER BY</code>: default is ascending order</li> <li><code>AS</code>: give a custom column name</li> <li><code>AND</code> <code>OR</code> <code>NOT</code>: operators, ☞ venn diagram (eg: &lt;&gt;: means not equal)</li> <li><code>IN</code>: contains which values, eg:</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code>  <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> customers <span class="token keyword">where</span> state <span class="token operator">not</span> <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'CO'</span><span class="token punctuation">,</span> <span class="token string">'IL'</span><span class="token punctuation">,</span> 'FL’<span class="token punctuation">)</span>
</code></pre></div><ul><li><code>LIKE</code>: find similar data eg:</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code>  <span class="token string">'%part_of_string%'</span>
</code></pre></div><ul><li><code>REGEX</code>: regular expression, powerful for using searching strings inside a table,
<ul><li><code>^</code>: beginning of the string</li> <li><code>$</code>: end of the string</li> <li><code>|</code>: logical or (multiple patterns)
eg:</li></ul></li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code>  <span class="token keyword">where</span> last_name <span class="token operator">regexp</span> 'ey$<span class="token operator">|</span><span class="token keyword">on</span>$’ last_name <span class="token keyword">end</span> <span class="token keyword">with</span> ey <span class="token operator">or</span> <span class="token keyword">on</span>
</code></pre></div><ul><li><code>IS NULL</code> or <code>IS NOT NULL</code>: check condition the attribute is not null or is null records eg:</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code>  <span class="token keyword">where</span> phone <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span>
</code></pre></div><ul><li><code>ORDER BY</code>: ascending order or descending order eg:</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code>  <span class="token keyword">order</span> <span class="token keyword">by</span> first_name <span class="token keyword">desc</span>
</code></pre></div><ul><li><code>LIMIT</code>: top number of records (eg: top 10 records)</li> <li><code>JOIN ON</code>:  join two tables together, if we type JOIN means inner join, eg:</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">join</span> tableName <span class="token keyword">on</span> condition <span class="token punctuation">(</span>tableA<span class="token punctuation">.</span>AttributeId <span class="token operator">=</span><span class="token operator">=</span> tableB<span class="token punctuation">.</span>AttributeId<span class="token punctuation">)</span> 
<span class="token keyword">join</span> customers <span class="token keyword">on</span> orders<span class="token punctuation">.</span>customer_id <span class="token operator">=</span> customers<span class="token punctuation">.</span>customer_id 
<span class="token keyword">select</span> oi<span class="token punctuation">.</span>order_id<span class="token punctuation">,</span> oi<span class="token punctuation">.</span>unit_price <span class="token keyword">from</span> order_items oi <span class="token keyword">join</span> products p <span class="token keyword">on</span> p<span class="token punctuation">.</span>product_id <span class="token operator">=</span> oi<span class="token punctuation">.</span>product_id
</code></pre></div><ul><li><code>JOIN</code>: join across multiple dbs</li> <li>outer join: <code>LEFT JOIN</code> &amp; <code>RIGHT JOIN</code>:
<ul><li>eg: join start from left table or start from right table</li> <li>left: we get all the data from left table (which is from TableName) whether the condition is true or not</li> <li>right: we get all the data from right table (which is from TableName) whether the condition is true or not</li></ul></li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> p<span class="token punctuation">.</span>product_id<span class="token punctuation">,</span> p<span class="token punctuation">.</span>name<span class="token punctuation">,</span> oi<span class="token punctuation">.</span>quantity <span class="token keyword">from</span> products p <span class="token keyword">left</span> <span class="token keyword">join</span> order_items oi <span class="token keyword">on</span> p<span class="token punctuation">.</span>product_id <span class="token operator">=</span> oi<span class="token punctuation">.</span>product_id
</code></pre></div><ul><li><code>USING</code>: is a shortcut for p.product_id = oi.product_id, just using this USING(product_id) [ONLY for the SAME attribute name]</li> <li><code>UNION</code>: combine data from multiple queries [can be from same table or different table, can be same from same db or different db]!!! eg:</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span>
<span class="token keyword">from</span> orders
<span class="token keyword">where</span> order_id <span class="token operator">&gt;=</span> <span class="token number">8</span>
<span class="token keyword">union</span>
<span class="token keyword">select</span> <span class="token operator">*</span>
<span class="token keyword">from</span> orders
<span class="token keyword">where</span> shipper_id <span class="token operator">&gt;=</span> <span class="token number">3</span>
</code></pre></div><ul><li><code>INSERT INTO</code>: add data to db table, eg:</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> customers <span class="token punctuation">(</span>first_name<span class="token punctuation">,</span> last_name<span class="token punctuation">,</span> birth_date<span class="token punctuation">,</span> address<span class="token punctuation">,</span> city<span class="token punctuation">,</span> state<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token keyword">DEFAULT</span><span class="token punctuation">,</span> <span class="token string">'ella'</span><span class="token punctuation">,</span> <span class="token string">'wu'</span><span class="token punctuation">,</span> <span class="token string">'2018-06-01'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token string">'Newington'</span><span class="token punctuation">,</span> <span class="token string">'Sydney'</span><span class="token punctuation">,</span> <span class="token string">'CA'</span><span class="token punctuation">,</span> <span class="token string">'10000'</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>UPDATE</code>: modify current record, eg:</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> <span class="token keyword">table</span> name <span class="token keyword">SET</span> <span class="token keyword">columns</span> <span class="token keyword">with</span> updated <span class="token keyword">value</span> <span class="token keyword">WHERE</span> which <span class="token keyword">data</span> needs <span class="token keyword">to</span> be updated
<span class="token comment">-- eg:</span>
<span class="token keyword">UPDATE</span> sql_store<span class="token punctuation">.</span>NewTable <span class="token keyword">SET</span> <span class="token keyword">status</span> <span class="token operator">=</span> <span class="token number">3</span> <span class="token keyword">WHERE</span> order_id <span class="token operator">=</span> <span class="token number">9</span>
</code></pre></div><ul><li><code>DELETE</code>: remove a record(s), eg:</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> which <span class="token keyword">table</span> <span class="token keyword">WHERE</span>: which record
<span class="token comment">-- eg:</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> sql_store<span class="token punctuation">.</span>NewTable <span class="token keyword">WHERE</span> <span class="token keyword">status</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>CREATE TABLE</code>: used fro copy a table and its records, eg:</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> NewTableNAME <span class="token keyword">as</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> orders<span class="token punctuation">;</span> 
</code></pre></div><p><b>4.</b> PostgreSQL queries for array of objects in JSONB format</p> <p>The major method is: <code>jsonb_to_recordset</code></p> <div class="language- extra-class"><pre class="language-text"><code>-- select email from user_email_configuration, jsonb_to_recordset(user_email_configuration.body-&gt;'users') as users(email text)
-- select * from user_email_configuration where body-&gt;&gt;'groupname' = 'gitenant.app-demo'
</code></pre></div><p><b>5.</b> PostgreSQL query checking the data occurrence count</p> <p>SELECT column5, COUNT(*)
FROM table1
GROUP BY column5</p> <p><b>6.</b> SQL (relational) vs Non-SQL (non-relational) [Year 2021 - understanding]</p> <p>SQL: more relational related, like table got connected/closed relationship with another table</p> <p>Non-SQL: can be treated as a json object <mark>tree</mark>, which handles better with unstructured data (JSON object mostly)</p> <ul><li><p>SQL is easier to read data with powerful queries and hard to save data with multiple validations, Non-SQL is reverse, which means hard to read but easier to save</p></li> <li><p>SQL is not very good to handle tons of request at same time, but Non-SQL is better with it</p></li> <li><p>SQL database like PostgreSQL can save data as JSON format, like JSONB, more like a hybrid tool. But Non-SQL is not able to build any relationships between data, its just a json data.</p></li></ul> <p>One word, it depends on the specific requirements, there is no <code>best</code> choice, but we do have <mark>suitable</mark> solutions.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/_posts/ts-basics.html" class="prev">
        TypeScript: Basics (101)
      </a></span> <span class="next"><a href="/_posts/node-tips.html">
        NodeJS (101)
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0251f370.js" defer></script><script src="/assets/js/2.a511a718.js" defer></script><script src="/assets/js/46.a793d66e.js" defer></script>
  </body>
</html>
